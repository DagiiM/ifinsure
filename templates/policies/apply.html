{% extends 'base.html' %}
{% load humanize %}

{% block title %}Apply for Insurance - ifinsure{% endblock %}

{% block content %}
<div class="page-header">
    <div class="breadcrumbs">
        <a href="{% url 'policies:products' %}">Products</a>
        <span>/</span>
        <span>Apply</span>
    </div>
    <h1>Apply for Insurance</h1>
    <p>Complete the form below to submit your application</p>
</div>

<form method="post">
    {% csrf_token %}
    
    <div class="grid grid-2 gap-6">
        <div class="card">
            <div class="card-header">
                <h4>Coverage Details</h4>
            </div>
            <div class="card-body">
                <div class="form-group">
                    <label class="form-label">Product *</label>
                    {{ form.product }}
                    {{ form.product.errors }}
                </div>
                
                <div class="form-group">
                    <label class="form-label">Coverage Amount *</label>
                    {{ form.requested_coverage }}
                    <span class="form-hint">Enter the amount of coverage you need</span>
                    {{ form.requested_coverage.errors }}
                </div>
                
                <div class="grid grid-2 gap-4">
                    <div class="form-group">
                        <label class="form-label">Term Length *</label>
                        {{ form.requested_term_months }}
                        {{ form.requested_term_months.errors }}
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Payment Frequency *</label>
                        {{ form.payment_frequency }}
                        {{ form.payment_frequency.errors }}
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header">
                <h4>Beneficiary (Optional)</h4>
            </div>
            <div class="card-body">
                <div class="form-group">
                    <label class="form-label">Beneficiary Name</label>
                    {{ form.beneficiary_name }}
                </div>
                
                <div class="grid grid-2 gap-4">
                    <div class="form-group">
                        <label class="form-label">Relationship</label>
                        {{ form.beneficiary_relationship }}
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Phone</label>
                        {{ form.beneficiary_phone }}
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card" style="grid-column: span 2;">
            <div class="card-header">
                <h4>Additional Notes</h4>
            </div>
            <div class="card-body">
                {{ form.notes }}
            </div>
        </div>
    </div>
    
    <div class="flex gap-3 mt-6">
        <button type="submit" class="btn btn-primary btn-lg">Submit Application</button>
        <a href="{% url 'policies:products' %}" class="btn btn-secondary btn-lg">Cancel</a>
    </div>
</form>
{% endblock %}
